#!/usr/bin/env ruby

$LOAD_PATH << File.expand_path(File.dirname(__FILE__) + '/../lib')

require 'command_line/io'
require 'command_line/menu'
require 'database/pg_wrapper'
require 'tic_tac_toe/io_interface'
require 'tic_tac_toe/rules'
require 'tic_tac_toe/history'

require 'command_line/runner'

database = "tic_tac_toe"

io = CommandLine::IO
io_interface = TicTacToe::IOInterface.new(io)
menu = CommandLine::Menu.new(io_interface)
rules = TicTacToe::Rules
history = TicTacToe::History.new
database_wrapper = Database::PGWrapper.new(database)

CommandLine::Runner.new(io_interface, menu, rules, history, database_wrapper).run
